<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8">
  <title>自選目標業績計算器</title>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Roboto:wght@400;500&display=swap');

    body {
      font-family: 'Roboto', sans-serif;
      background: linear-gradient(135deg, #89f7fe, #66a6ff);
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
      position: relative;
      margin: 0;
      overflow: hidden;
    }

    .container {
      background: rgba(255, 255, 255, 0.25);
      backdrop-filter: blur(20px);
      padding: 40px 50px;
      border-radius: 25px;
      box-shadow: 0 15px 30px rgba(0,0,0,0.2);
      max-width: 600px;
      width: 100%;
      position: relative;
      z-index: 1;
      transition: all 0.3s ease;
    }

    h2 {
      text-align: center;
      margin-bottom: 30px;
      color: #fff;
      font-size: 28px;
      text-shadow: 1px 1px 5px rgba(0,0,0,0.2);
    }

    label {
      font-weight: 500;
      margin-bottom: 5px;
      color: #fff;
      font-size: 16px;
      text-shadow: 1px 1px 3px rgba(0,0,0,0.2);
    }

    input, select {
      padding: 12px;
      border: 1px solid rgba(255,255,255,0.6);
      border-radius: 12px;
      font-size: 16px;
      width: 100%;
      margin-bottom: 25px;
      outline: none;
      transition: all 0.3s;
      background: rgba(255,255,255,0.6);
      color: #333;
    }

    input:focus, select:focus {
      border-color: #fff;
      box-shadow: 0 0 10px rgba(255,255,255,0.5);
    }

    button {
      background: linear-gradient(135deg, #6a11cb, #2575fc);
      color: white;
      padding: 14px;
      border: none;
      border-radius: 14px;
      cursor: pointer;
      font-size: 18px;
      width: 100%;
      transition: all 0.3s ease;
      box-shadow: 0 5px 15px rgba(0,0,0,0.3);
    }

    button:hover {
      transform: translateY(-2px);
      box-shadow: 0 8px 20px rgba(0,0,0,0.4);
      background: linear-gradient(135deg, #2575fc, #6a11cb);
    }

    .result {
      background: rgba(255,255,255,0.3);
      padding: 20px;
      border-radius: 15px;
      font-weight: bold;
      white-space: pre-line;
      color: #222;
      line-height: 1.7;
      text-shadow: 1px 1px 2px rgba(0,0,0,0.15);
      margin-top: 15px;
    }

    /* 浮水印右下角 */
    body::after {
      content: "歌璃製作｜ID: love650324";
      position: fixed;
      bottom: 20px;
      right: 20px;
      font-size: 14px;
      color: rgba(0,0,0,0.18);
      pointer-events: none;
      z-index: 0;
    }
  </style>
</head>
<body>
  <div class="container">
    <h2>自選目標業績計算器</h2>
    <label for="amount">輸入當前流水：</label>
    <input type="number" id="amount" placeholder="例如：158604">

    <label for="target">選擇目標業績：</label>
    <select id="target">
      <option value="5000">5,000</option>
      <option value="10000">10,000</option>
      <option value="15000">15,000</option>
      <option value="25000">25,000</option>
      <option value="45000">45,000</option>
      <option value="65000">65,000</option>
      <option value="85000">85,000</option>
      <option value="100000">100,000</option>
      <option value="150000">150,000</option>
      <option value="200000">200,000</option>
    </select>

    <button onclick="calculateCustomTarget()">計算</button>
    <div class="result" id="result"></div>
  </div>

  <script>
    const bonusTable = {
      5000: 500,
      10000: 1500,
      15000: 2300,
      25000: 4000,
      45000: 7000,
      65000: 11000,
      85000: 15000,
      100000: 20000,
      150000: 35000,
      200000: 50000
    };

    function calculateCustomTarget() {
      const amount = parseInt(document.getElementById('amount').value);
      const target = parseInt(document.getElementById('target').value);
      if (isNaN(amount) || amount <= 0) {
        document.getElementById('result').innerText = "請輸入正確的流水金額";
        return;
      }
      if (amount >= target) {
        document.getElementById('result').innerText = `當前流水 ${amount.toLocaleString()} 已達到目標業績 ${target.toLocaleString()}！`;
        return;
      }

      const gap = target - amount;
      const cost = gap * 0.7;
      const giftIncome = gap * 0.4;
      const bonus = bonusTable[target] || 0;
      const totalIncome = giftIncome + bonus;
      const net = totalIncome - cost;

      const resultText = 
`當前流水 = ${amount.toLocaleString()}
目標業績 = ${target.toLocaleString()}
缺額 = ${target.toLocaleString()} - ${amount.toLocaleString()} = ${gap.toLocaleString()} 流水
補流水成本 = ${gap.toLocaleString()} × 0.7 = ${cost.toLocaleString()}
補流水收益 = ${gap.toLocaleString()} × 0.4 = ${giftIncome.toLocaleString()}
總收益 = ${giftIncome.toLocaleString()} (禮物收益) + ${bonus.toLocaleString()} (繁星獎金) = ${totalIncome.toLocaleString()}
淨收益 = ${totalIncome.toLocaleString()} - ${cost.toLocaleString()} = ${net.toLocaleString()} (${net >= 0 ? '賺' : '虧'})

結論：當前流水 ${amount.toLocaleString()} 的情況下收流水會${net >= 0 ? '賺' : '虧'} ${Math.abs(net).toLocaleString()}`;

      document.getElementById('result').innerText = resultText;
    }
  </script>
</body>
</html>
